const mongoose = require("mongoose");
const mongUrl =" mongodb://localhost/users"
mongoose.connect(mongUrl)
mongoose.connect(mongUrl, {useNewUrlParser: true}).then(()=>{
	console.log("Connected data!!");
}).catch((err)=>{
	console.log("Error when connected to the DB",err)
});
let accountsSchema = mongoose.Schema({
	userName: {type:String, unique:true, required: true},
	email: {type: mongoose.SchemaTypes.Email, required: true},
	password: { type: String, required: true }
});
let AccountsModel = mongoose.model("Accounts",accountsSchema);
let accountDoc = new AccountsModel({userName:"nadera",email:"naderakaoud@gmail.com ",password:"123"});
accountDoc.save((err)=>{
	if(err){
	console.log("Error when save document at database",err)
        }else
        console.log("account saved!!")
})
//var db = mongoose.connection;*/
var selectAll = function(callback) {
  AccountsModel.find({}, function(err, items) {
    if(err) {
      callback(err, null);
    } else {
      callback(null, items);
    }
  });
};
module.exports.AccountsModel = AccountsModel;